<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pystlouisfed.alfred &mdash; pystlouisfed 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            pystlouisfed
          </a>
              <div class="version">
                3.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../description.html">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../enums.html">Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../strange.html">Strange things</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pystlouisfed</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">pystlouisfed.alfred</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pystlouisfed.alfred</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span> <span class="k">as</span> <span class="n">dt_date</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">NoReturn</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">pystlouisfed</span> <span class="kn">import</span> <span class="n">enums</span>
<span class="kn">from</span> <span class="nn">pystlouisfed</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">.client</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="FRED">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED">[docs]</a>
<span class="k">class</span> <span class="nc">FRED</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    | The FRED API is a web service that allows developers to write programs and build applications that retrieve economic data from the FRED and ALFRED websites hosted by the Economic Research Division of the Federal Reserve Bank of St. Louis.</span>
<span class="sd">    | Requests can be customized according to data source, release, category, series, and other preferences.</span>

<span class="sd">    https://fred.stlouisfed.org</span>
<span class="sd">    https://fred.stlouisfed.org/docs/api/fred/</span>
<span class="sd">            </span>
<span class="sd">    :param api_key: 32 character alpha-numeric lowercase string</span>
<span class="sd">    :type api_key: str</span>
<span class="sd">    :type ratelimiter_enabled: bool</span>
<span class="sd">    :type ratelimiter_max_calls: int</span>
<span class="sd">    :type ratelimiter_period: int</span>
<span class="sd">    :param request_params: HTTP GET method parameters, see https://docs.python-requests.org/en/latest/api/#requests.request</span>
<span class="sd">    :type request_params: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

    <span class="n">EMPTY_VALUE</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">ratelimiter_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">ratelimiter_max_calls</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span>
            <span class="n">ratelimiter_period</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">timedelta</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">request_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">ratelimiter_period</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ratelimiter_period</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">api_key</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">32</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Variable api_key must be 32 character length alphanumeric string.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="n">api_key</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span>
            <span class="n">ratelimiter_enabled</span><span class="o">=</span><span class="n">ratelimiter_enabled</span><span class="p">,</span>
            <span class="n">ratelimiter_max_calls</span><span class="o">=</span><span class="n">ratelimiter_max_calls</span><span class="p">,</span>
            <span class="n">ratelimiter_period</span><span class="o">=</span><span class="n">ratelimiter_period</span><span class="p">,</span>
            <span class="n">request_params</span><span class="o">=</span><span class="n">request_params</span>
        <span class="p">)</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Category</span>

<span class="sd">    https://fred.stlouisfed.org/categories</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FRED.category">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category">[docs]</a>
    <span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">Category</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :rtype: models.Category</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category.html</span>
<span class="sd">        </span>
<span class="sd">        | Get a category.</span>
<span class="sd">        </span>
<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category?category_id=125&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;categories&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 125,</span>
<span class="sd">                        &quot;name&quot;: &quot;Trade Balance&quot;,</span>
<span class="sd">                        &quot;parent_id&quot;: 13</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category(category_id=125)</span>
<span class="sd">            </span>
<span class="sd">            # Category(id=125, name=&#39;Trade Balance&#39;, parent_id=13)</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">category_id</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Variable category_id is not 0 or a positive integer.&quot;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;categories&quot;</span><span class="p">,</span>
            <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">Category</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="FRED.category_children">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category_children">[docs]</a>
    <span class="k">def</span> <span class="nf">category_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category_children.html</span>
<span class="sd">        </span>
<span class="sd">        | Get the child categories for a specified parent category.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category/children?category_id=13&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;categories&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 16,</span>
<span class="sd">                        &quot;name&quot;: &quot;Exports&quot;,</span>
<span class="sd">                        &quot;parent_id&quot;: 13</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category_children(category_id=13).head()</span>
<span class="sd">            </span>
<span class="sd">            #                                     name  parent_id</span>
<span class="sd">            # id</span>
<span class="sd">            # 16                               Exports         13</span>
<span class="sd">            # 17                               Imports         13</span>
<span class="sd">            # 3000          Income Payments &amp; Receipts         13</span>
<span class="sd">            # 33705  International Investment Position         13</span>
<span class="sd">            # 125                        Trade Balance         13</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category/children&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;categories&quot;</span><span class="p">,</span>
            <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FRED.category_related">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category_related">[docs]</a>
    <span class="k">def</span> <span class="nf">category_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category_related.html</span>
<span class="sd">        </span>
<span class="sd">        | Get the related categories for a category.</span>
<span class="sd">        | A related category is a one-way relation between 2 categories that is not part of a parent-child category hierarchy.</span>
<span class="sd">        | Most categories do not have related categories.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category/related?category_id=32073&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;categories&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 149,</span>
<span class="sd">                        &quot;name&quot;: &quot;Arkansas&quot;,</span>
<span class="sd">                        &quot;parent_id&quot;: 27281</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category_related(category_id=32073).head()</span>
<span class="sd">            </span>
<span class="sd">            #             name  parent_id</span>
<span class="sd">            # id</span>
<span class="sd">            # 149     Arkansas      27281</span>
<span class="sd">            # 150     Illinois      27281</span>
<span class="sd">            # 151      Indiana      27281</span>
<span class="sd">            # 152     Kentucky      27281</span>
<span class="sd">            # 153  Mississippi      27281</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category/related&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;categories&quot;</span><span class="p">,</span>
            <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FRED.category_series">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category_series">[docs]</a>
    <span class="k">def</span> <span class="nf">category_series</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span><span class="p">,</span>
            <span class="n">filter_variable</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">filter_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param filter_variable: The attribute to filter results by.</span>
<span class="sd">        :type filter_variable: enums.FilterVariable</span>
<span class="sd">        :param filter_value: The value of the filter_variable attribute to filter results by.</span>
<span class="sd">        :type filter_value: enums.FilterValue</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category_series.html</span>
<span class="sd">        </span>
<span class="sd">        | Get the series in a category.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category/series?category_id=125&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">              &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;order_by&quot;: &quot;series_id&quot;,</span>
<span class="sd">              &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">              &quot;count&quot;: 45,</span>
<span class="sd">              &quot;offset&quot;: 0,</span>
<span class="sd">              &quot;limit&quot;: 1000,</span>
<span class="sd">              &quot;seriess&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;id&quot;: &quot;BOPBCA&quot;,</span>
<span class="sd">                  &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                  &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                  &quot;title&quot;: &quot;Balance on Current Account (DISCONTINUED)&quot;,</span>
<span class="sd">                  &quot;observation_start&quot;: &quot;1960-01-01&quot;,</span>
<span class="sd">                  &quot;observation_end&quot;: &quot;2014-01-01&quot;,</span>
<span class="sd">                  &quot;frequency&quot;: &quot;Quarterly&quot;,</span>
<span class="sd">                  &quot;frequency_short&quot;: &quot;Q&quot;,</span>
<span class="sd">                  &quot;units&quot;: &quot;Billions of Dollars&quot;,</span>
<span class="sd">                  &quot;units_short&quot;: &quot;Bil. of $&quot;,</span>
<span class="sd">                  &quot;seasonal_adjustment&quot;: &quot;Seasonally Adjusted&quot;,</span>
<span class="sd">                  &quot;seasonal_adjustment_short&quot;: &quot;SA&quot;,</span>
<span class="sd">                  &quot;last_updated&quot;: &quot;2014-06-18 08:41:28-05&quot;,</span>
<span class="sd">                  &quot;popularity&quot;: 32,</span>
<span class="sd">                  &quot;group_popularity&quot;: 34,</span>
<span class="sd">                  &quot;notes&quot;: &quot;This series has been discontinued as a result of the comprehensive restructuring of the international economic accounts (http://www.bea.gov/international/modern.htm).For a crosswalk of the old and new series in FRED see: http://research.stlouisfed.org/CompRevisionReleaseID49.xlsx.&quot;</span>
<span class="sd">                },</span>
<span class="sd">              ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category_series(category_id=125).head()</span>
<span class="sd">            </span>
<span class="sd">            #             realtime_start realtime_end                                              title observation_start observation_end  frequency frequency_short                units units_short      seasonal_adjustment seasonal_adjustment_short              last_updated  popularity  group_popularity                                              notes</span>
<span class="sd">            #     id</span>
<span class="sd">            #     AITGCBN     2022-02-05   2022-02-05  Advance U.S. International Trade in Goods: Bal...        2021-12-01      2021-12-01    Monthly               M  Millions of Dollars   Mil. of $  Not Seasonally Adjusted                       NSA 2022-01-26 13:31:05+00:00           3                26  This advance estimate represents the current m...</span>
<span class="sd">            #     AITGCBS     2022-02-05   2022-02-05  Advance U.S. International Trade in Goods: Bal...        2021-12-01      2021-12-01    Monthly               M  Millions of Dollars   Mil. of $      Seasonally Adjusted                        SA 2022-01-26 13:31:02+00:00          26                26  This advance estimate represents the current m...</span>
<span class="sd">            #     BOPBCA      2022-02-05   2022-02-05          Balance on Current Account (DISCONTINUED)        1960-01-01      2014-01-01  Quarterly               Q  Billions of Dollars   Bil. of $      Seasonally Adjusted                        SA 2014-06-18 13:41:28+00:00          10                11  This series has been discontinued as a result ...</span>
<span class="sd">            #     BOPBCAA     2022-02-05   2022-02-05          Balance on Current Account (DISCONTINUED)        1960-01-01      2013-01-01     Annual               A  Billions of Dollars   Bil. of $  Not Seasonally Adjusted                       NSA 2014-06-18 13:41:28+00:00           2                11  This series has been discontinued as a result ...</span>
<span class="sd">            #     BOPBCAN     2022-02-05   2022-02-05          Balance on Current Account (DISCONTINUED)        1960-01-01      2014-01-01  Quarterly               Q  Billions of Dollars   Bil. of $  Not Seasonally Adjusted                       NSA 2014-06-18 13:41:28+00:00           1                11  This series has been discontinued as a result ...</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">last_updated</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_popularity</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filter_variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">filter_variable</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable filter_variable (</span><span class="si">{</span><span class="n">filter_variable</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">exclude_tag_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">tag_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Parameter exclude_tag_names requires that parameter tag_names also be set to limit the number of matching series.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category/series&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">filter_variable</span><span class="o">=</span><span class="n">filter_variable</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="n">filter_value</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span>
            <span class="s2">&quot;observation_start&quot;</span><span class="p">,</span> <span class="s2">&quot;observation_end&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;popularity&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;group_popularity&quot;</span><span class="p">:</span> <span class="nb">int</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.category_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">category_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category_tags.html</span>
<span class="sd">        </span>
<span class="sd">        | Get the FRED tags for a category.</span>
<span class="sd">        | Optionally, filter results by tag name, tag group, or search. Series are assigned tags and categories.</span>
<span class="sd">        | Indirectly through series, it is possible to get the tags for a category. No tags exist for a category that does not have series.</span>
<span class="sd">        | See the related request fred/category/related_tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category/tags?category_id=125&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 21,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;bea&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;src&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;U.S. Department of Commerce: Bureau of Economic Analysis&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 87,</span>
<span class="sd">                        &quot;series_count&quot;: 24</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category_tags(category_id=125).head()</span>
<span class="sd">            </span>
<span class="sd">            #                 group_id   notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # headline figure      gen         2013-11-19 19:55:53+00:00          53             2</span>
<span class="sd">            # primary              gen         2012-02-27 16:18:19+00:00          42             2</span>
<span class="sd">            # transfers            gen         2012-02-27 16:18:19+00:00          31             2</span>
<span class="sd">            # census               src  Census 2012-02-27 16:18:19+00:00          80             4</span>
<span class="sd">            # investment           gen         2012-02-27 16:18:19+00:00          56             4</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span>
        <span class="p">]</span>

        <span class="n">allowed_tag_group_ids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">general_or_concept</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">geography</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">geography_type</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">release</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">source</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tag_group_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">tag_group_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_tag_group_ids</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable tag_group_id is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_tag_group_ids</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category/tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;popularity&quot;</span><span class="p">:</span> <span class="nb">int</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.category_related_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.category_related_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">category_related_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">category_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param category_id: The id for a category.</span>
<span class="sd">        :type category_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str </span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">            </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/category_related_tags.html</span>

<span class="sd">        | Get the related FRED tags for one or more FRED tags within a category.</span>
<span class="sd">        | Optionally, filter results by tag group or search.</span>
<span class="sd">        | FRED tags are attributes assigned to series.</span>
<span class="sd">        | For this request, related FRED tags are the tags assigned to series that match all tags in the tag_names parameter, no tags in the exclude_tag_names parameter, and the category set by the category_id parameter.</span>
<span class="sd">        | See the related request fred/category/tags.</span>
<span class="sd">        | Series are assigned tags and categories. Indirectly through series, it is possible to get the tags for a category.</span>
<span class="sd">        | No tags exist for a category that does not have series.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/category/related_tags?category_id=125&amp;tag_names=services;quarterly&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 7,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;balance&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;gen&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 65,</span>
<span class="sd">                        &quot;series_count&quot;: 4</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.category_related_tags(category_id=125, tag_names=[&#39;services&#39;, &#39;quarterly&#39;]).head()</span>
<span class="sd">            </span>
<span class="sd">            #                  group_id                    notes                   created  popularity  series_count</span>
<span class="sd">            #     name</span>
<span class="sd">            #     discontinued      gen                          2012-02-27 16:18:19+00:00          67             4</span>
<span class="sd">            #     nsa              seas  Not Seasonally Adjusted 2012-02-27 16:18:19+00:00         100             6</span>
<span class="sd">            #     sa               seas      Seasonally Adjusted 2012-02-27 16:18:19+00:00          88             6</span>
<span class="sd">            #     goods             gen                          2012-02-27 16:18:19+00:00          68             8</span>
<span class="sd">            #     balance           gen                          2012-02-27 16:18:19+00:00          47            12</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/category/related_tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">category_id</span><span class="o">=</span><span class="n">category_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Releases</span>

<span class="sd">    https://fred.stlouisfed.org/releases</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FRED.releases">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.releases">[docs]</a>
    <span class="k">def</span> <span class="nf">releases</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/releases.html</span>

<span class="sd">        | Get all releases of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/releases?api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;release_id&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 158,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;releases&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 9,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-13&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;Advance Monthly Sales for Retail and Food Services&quot;,</span>
<span class="sd">                        &quot;press_release&quot;: true,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.census.gov/retail/&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.releases().head()</span>
<span class="sd">            </span>
<span class="sd">            #        realtime_start realtime_end                                               name  press_release                                         link                                              notes</span>
<span class="sd">            #     id</span>
<span class="sd">            #     9      2022-02-05   2022-02-05  Advance Monthly Sales for Retail and Food Serv...           True                http://www.census.gov/retail/  The U.S. Census Bureau conducts the Advance Mo...</span>
<span class="sd">            #     10     2022-02-05   2022-02-05                               Consumer Price Index           True                      http://www.bls.gov/cpi/                                               &lt;NA&gt;</span>
<span class="sd">            #     11     2022-02-05   2022-02-05                              Employment Cost Index           True                  http://www.bls.gov/ncs/ect/                                               &lt;NA&gt;</span>
<span class="sd">            #     13     2022-02-05   2022-02-05  G.17 Industrial Production and Capacity Utiliz...           True  http://www.federalreserve.gov/releases/g17/                                               &lt;NA&gt;</span>
<span class="sd">            #     14     2022-02-05   2022-02-05                               G.19 Consumer Credit           True  http://www.federalreserve.gov/releases/g19/                                               &lt;NA&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">press_release</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/releases&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;releases&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;press_release&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.releases_dates">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.releases_dates">[docs]</a>
    <span class="k">def</span> <span class="nf">releases_dates</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="c1"># First day of the current year</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">desc</span><span class="p">,</span>
            <span class="n">include_release_dates_with_no_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param include_release_dates_with_no_data: bool, Determines whether release dates with no data available are returned. The defalut value &#39;false&#39; excludes release dates that do not have data. In particular, this excludes future release dates which may be available in the FRED release calendar or the ALFRED release calendar. If include_release_dates_with_no_data is set to true, the XML tag release_date has an extra attribute release_last_updated that can be compared to the release date to determine if data has been updated.</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">            </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/releases_dates.html</span>

<span class="sd">        | Get release dates for all releases of economic data.</span>
<span class="sd">        | Note that release dates are published by data sources and do not necessarily represent when data will be available on the FRED or ALFRED websites.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/releases/dates?api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-01-01&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-12-31&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;release_date&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 1129,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;release_dates&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;release_id&quot;: 9,</span>
<span class="sd">                        &quot;release_name&quot;: &quot;Advance Monthly Sales for Retail and Food Services&quot;,</span>
<span class="sd">                        &quot;date&quot;: &quot;2013-08-13&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.releases_dates(realtime_start=dt_date.today() - timedelta(days=1)).head()</span>
<span class="sd">            </span>
<span class="sd">            #                                                      release_name       date</span>
<span class="sd">            #     release_id</span>
<span class="sd">            #     502                                      Euro Short Term Rate 2022-02-04</span>
<span class="sd">            #     492                             SONIA Interest Rate Benchmark 2022-02-04</span>
<span class="sd">            #     484                                    Key ECB Interest Rates 2022-02-04</span>
<span class="sd">            #     483                              SOFR Averages and Index Data 2022-02-04</span>
<span class="sd">            #     469         State Unemployment Insurance Weekly Claims Report 2022-02-04</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_date</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_name</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/releases/dates&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;release_dates&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">include_release_dates_with_no_data</span><span class="o">=</span><span class="n">include_release_dates_with_no_data</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;release_name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;release_id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release">[docs]</a>
    <span class="k">def</span> <span class="nf">release</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">Release</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html). </span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: models.Release</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release.html</span>

<span class="sd">        | Get a release of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release?release_id=53&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;releases&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 53,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;Gross Domestic Product&quot;,</span>
<span class="sd">                        &quot;press_release&quot;: true,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.bea.gov/national/index.htm&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release(release_id=53)</span>
<span class="sd">        </span>
<span class="sd">            # Release(id=53, realtime_start=datetime.date(2022, 1, 14), realtime_end=datetime.date(2022, 1, 14), name=&#39;Gross Domestic Product&#39;, press_release=True, link=&#39;https://www.bea.gov/data/gdp/gross-domestic-product&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">release_id</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Variable release_id is not 0 or a positive integer.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;releases&quot;</span><span class="p">,</span>
            <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">Release</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="FRED.release_dates">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_dates">[docs]</a>
    <span class="k">def</span> <span class="nf">release_dates</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span><span class="p">,</span>
            <span class="n">include_release_dates_with_no_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending release date order. One of the following strings: &#39;asc&#39;, &#39;desc&#39;.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param include_release_dates_with_no_data: Determines whether release dates with no data available are returned. The defalut value &#39;false&#39; excludes release dates that do not have data. In particular, this excludes future release dates which may be available in the FRED release calendar or the ALFRED release calendar.</span>
<span class="sd">        :type include_release_dates_with_no_data: bool</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_dates.html</span>

<span class="sd">        | Get release dates for a release of economic data.</span>
<span class="sd">        </span>
<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/dates?release_id=82&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;1776-07-04&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-12-31&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;release_date&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 17,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 10000,</span>
<span class="sd">                &quot;release_dates&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;release_id&quot;: 82,</span>
<span class="sd">                        &quot;date&quot;: &quot;1997-02-10&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release_dates(release_id=82).head()</span>
<span class="sd">            </span>
<span class="sd">            #    release_id       date</span>
<span class="sd">            # 0          82 1997-02-10</span>
<span class="sd">            # 1          82 1998-02-10</span>
<span class="sd">            # 2          82 1999-02-04</span>
<span class="sd">            # 3          82 2000-02-10</span>
<span class="sd">            # 4          82 2001-01-16</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release/dates&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;release_dates&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">include_release_dates_with_no_data</span><span class="o">=</span><span class="n">include_release_dates_with_no_data</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release_series">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_series">[docs]</a>
    <span class="k">def</span> <span class="nf">release_series</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span><span class="p">,</span>
            <span class="n">filter_variable</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">filter_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param filter_variable: The attribute to filter results by.</span>
<span class="sd">        :type filter_variable: enums.FilterVariable</span>
<span class="sd">        :param filter_value: The value of the filter_variable attribute to filter results by.</span>
<span class="sd">        :type filter_value: enums.FilterValue</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_series.html</span>

<span class="sd">        | Get the series on a release of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/series?release_id=51&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        </span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_id&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 57,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;seriess&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: &quot;BOMTVLM133S&quot;,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                        &quot;title&quot;: &quot;U.S. Imports of Services - Travel&quot;,</span>
<span class="sd">                        &quot;observation_start&quot;: &quot;1992-01-01&quot;,</span>
<span class="sd">                        &quot;observation_end&quot;: &quot;2017-05-01&quot;,</span>
<span class="sd">                        &quot;frequency&quot;: &quot;Monthly&quot;,</span>
<span class="sd">                        &quot;frequency_short&quot;: &quot;M&quot;,</span>
<span class="sd">                        &quot;units&quot;: &quot;Million of Dollars&quot;,</span>
<span class="sd">                        &quot;units_short&quot;: &quot;Mil. of $&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment&quot;: &quot;Seasonally Adjusted&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment_short&quot;: &quot;SA&quot;,</span>
<span class="sd">                        &quot;last_updated&quot;: &quot;2017-07-06 09:34:00-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 0,</span>
<span class="sd">                        &quot;group_popularity&quot;: 0</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release_series(release_id=51).head()</span>
<span class="sd">            </span>
<span class="sd">            #                 realtime_start realtime_end                                              title observation_start observation_end frequency frequency_short                units units_short  seasonal_adjustment seasonal_adjustment_short              last_updated  popularity  group_popularity                                              notes</span>
<span class="sd">            #     id</span>
<span class="sd">            #     BOMTVLM133S     2022-02-05   2022-02-05                  U.S. Imports of Services - Travel        1992-01-01      2017-09-01   Monthly               M   Million of Dollars   Mil. of $  Seasonally Adjusted                        SA 2017-11-03 13:12:15+00:00           1                 1  Further information related to the internation...</span>
<span class="sd">            #     BOMVGMM133S     2022-02-05   2022-02-05  U.S. Imports of Services: U.S. Government Misc...        1992-01-01      2013-12-01   Monthly               M  Millions of Dollars   Mil. of $  Seasonally Adjusted                        SA 2014-10-20 14:27:37+00:00           1                 1  BEA has introduced new table presentations, in...</span>
<span class="sd">            #     BOMVJMM133S     2022-02-05   2022-02-05  U.S. Imports of Services - Direct Defense Expe...        1992-01-01      2013-12-01   Monthly               M  Millions of Dollars   Mil. of $  Seasonally Adjusted                        SA 2014-10-20 14:26:44+00:00           1                 1  BEA has introduced new table presentations, in...</span>
<span class="sd">            #     BOMVMPM133S     2022-02-05   2022-02-05         U.S. Imports of Services - Passenger Fares        1992-01-01      2017-09-01   Monthly               M   Million of Dollars   Mil. of $  Seasonally Adjusted                        SA 2017-11-03 13:12:15+00:00           1                 1  Further information related to the internation...</span>
<span class="sd">            #     BOMVOMM133S     2022-02-05   2022-02-05  U.S. Imports of Services - Other Private Servi...        1992-01-01      2013-12-01   Monthly               M   Million of Dollars   Mil. of $  Seasonally Adjusted                        SA 2014-10-20 14:25:54+00:00           1                 1  BEA has introduced new table presentations, in...</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">last_updated</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_popularity</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filter_variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">filter_variable</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable allowed_filter_variables (</span><span class="si">{</span><span class="n">filter_variable</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release/series&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">filter_variable</span><span class="o">=</span><span class="n">filter_variable</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="n">filter_value</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span>
            <span class="s2">&quot;observation_start&quot;</span><span class="p">,</span> <span class="s2">&quot;observation_end&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release_sources">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_sources">[docs]</a>
    <span class="k">def</span> <span class="nf">release_sources</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html). </span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_sources.html</span>

<span class="sd">        | Get the sources for a release of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/sources?release_id=51&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;sources&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 18,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;U.S. Department of Commerce: Bureau of Economic Analysis&quot;,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.bea.gov/&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release_sources(release_id=51).head()</span>
<span class="sd">            </span>
<span class="sd">            #    realtime_start realtime_end                              name                    link</span>
<span class="sd">            # id</span>
<span class="sd">            # 19     2022-02-05   2022-02-05                U.S. Census Bureau  http://www.census.gov/</span>
<span class="sd">            # 18     2022-02-05   2022-02-05  U.S. Bureau of Economic Analysis     http://www.bea.gov/</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release/sources&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
                <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">release_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str </span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_tags.html</span>

<span class="sd">        | Get the FRED tags for a release.</span>
<span class="sd">        | Optionally, filter results by tag name, tag group, or search.</span>
<span class="sd">        | Series are assigned tags and releases.</span>
<span class="sd">        | Indirectly through series, it is possible to get the tags for a release.</span>
<span class="sd">        | See the related request fred/release/related_tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/tags?release_id=86&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 13,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;commercial paper&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;gen&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-03-19 10:40:59-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 55,</span>
<span class="sd">                        &quot;series_count&quot;: 18</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release_tags(release_id=86).head()</span>
<span class="sd">        </span>
<span class="sd">            #            group_id notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # 1-month         gen       2012-02-27 16:18:19+00:00          39             2</span>
<span class="sd">            # 2-month         gen       2012-05-25 16:29:21+00:00          17             2</span>
<span class="sd">            # owned           gen       2012-06-25 20:04:36+00:00          33             2</span>
<span class="sd">            # tier-2          gen       2014-02-12 17:18:16+00:00         -13             2</span>
<span class="sd">            # 10-20 days      gen       2014-02-12 17:08:07+00:00         -16             4</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release/tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release_related_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_related_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">release_related_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str </span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">            </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_related_tags.html</span>

<span class="sd">        | Get the related FRED tags for one or more FRED tags within a release. Optionally, filter results by tag group or search.</span>
<span class="sd">        | FRED tags are attributes assigned to series.</span>
<span class="sd">        | For this request, related FRED tags are the tags assigned to series that match all tags in the tag_names parameter, no tags in the exclude_tag_names parameter, and the release set by the release_id parameter.</span>
<span class="sd">        | See the related request fred/release/tags.</span>
<span class="sd">        | Series are assigned tags and releases. Indirectly through series, it is possible to get the tags for a release.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/related_tags?release_id=86&amp;tag_names=sa;foreign&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 7,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;commercial paper&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;gen&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-03-19 10:40:59-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 55,</span>
<span class="sd">                        &quot;series_count&quot;: 2</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.release_related_tags(release_id=86, tag_names=[&#39;sa&#39;, &#39;foreign&#39;]).head()</span>
<span class="sd">            </span>
<span class="sd">            #                  group_id notes                   created  popularity  series_count</span>
<span class="sd">            #     name</span>
<span class="sd">            #     financial         gen       2012-02-27 16:18:19+00:00          55             2</span>
<span class="sd">            #     monthly          freq       2012-02-27 16:18:19+00:00          93             2</span>
<span class="sd">            #     nonfinancial      gen       2012-02-27 16:18:19+00:00          55             2</span>
<span class="sd">            #     weekly           freq       2012-02-27 16:18:19+00:00          68             2</span>
<span class="sd">            #     commercial        gen       2012-02-27 16:18:19+00:00          61             4</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/release/related_tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">release_id</span><span class="o">=</span><span class="n">release_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.release_tables">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.release_tables">[docs]</a>
    <span class="k">def</span> <span class="nf">release_tables</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">release_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">element_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">include_observation_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">observation_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param release_id: The id for a release.</span>
<span class="sd">        :type release_id: int</span>
<span class="sd">        :param element_id: The release table element id you would like to retrieve. When the parameter is not passed, the root(top most) element for the release is given.</span>
<span class="sd">        :type element_id: int</span>
<span class="sd">        :param include_observation_values: A flag to indicate that observations need to be returned. Observation value and date will only be returned for a series type element.</span>
<span class="sd">        :type include_observation_values: bool</span>
<span class="sd">        :param observation_date: The observation date to be included with the returned release table.</span>
<span class="sd">        :type observation_date: datetime.date</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/release_tables.html</span>

<span class="sd">        | Get release table trees for a given release.</span>
<span class="sd">        | You can go directly to the tree structure by passing the appropriate element_id.</span>
<span class="sd">        | You may also use a drill-down approach to start at the root (top most) element by leaving the element_id off.</span>
<span class="sd">        | Note that release dates are published by data sources and do not necessarily represent when data will be available on the FRED or ALFRED websites.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/release/tables?release_id=53&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;element_id=12886&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">            </span>
<span class="sd">            {</span>
<span class="sd">                {</span>
<span class="sd">                &quot;name&quot;: &quot;Personal consumption expenditures&quot;,</span>
<span class="sd">                &quot;element_id&quot;: 12886,</span>
<span class="sd">                &quot;release_id&quot;: &quot;53&quot;,</span>
<span class="sd">                &quot;elements&quot;: {</span>
<span class="sd">                &quot;12887&quot;: {</span>
<span class="sd">                    &quot;element_id&quot;: 12887,</span>
<span class="sd">                    &quot;release_id&quot;: 53,</span>
<span class="sd">                    &quot;series_id&quot;: &quot;DGDSRL1A225NBEA&quot;,</span>
<span class="sd">                    &quot;parent_id&quot;: 12886,</span>
<span class="sd">                    &quot;line&quot;: &quot;3&quot;,</span>
<span class="sd">                    &quot;type&quot;: &quot;series&quot;,</span>
<span class="sd">                    &quot;name&quot;: &quot;Goods&quot;,</span>
<span class="sd">                    &quot;level&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;children&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                            &quot;element_id&quot;: 12888,</span>
<span class="sd">                            &quot;release_id&quot;: 53,</span>
<span class="sd">                            &quot;series_id&quot;: &quot;DDURRL1A225NBEA&quot;,</span>
<span class="sd">                            &quot;parent_id&quot;: 12887,</span>
<span class="sd">                            &quot;line&quot;: &quot;4&quot;,</span>
<span class="sd">                            &quot;type&quot;: &quot;series&quot;,</span>
<span class="sd">                            &quot;name&quot;: &quot;Durable goods&quot;,</span>
<span class="sd">                            &quot;level&quot;: &quot;2&quot;,</span>
<span class="sd">                            &quot;children&quot;: [</span>
<span class="sd">    </span>
<span class="sd">                            ]</span>
<span class="sd">                        },</span>
<span class="sd">                    ]</span>
<span class="sd">                }</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">observation_date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">observation_date</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Method </span><span class="se">\&quot;</span><span class="s2">FRED.release_tables</span><span class="se">\&quot;</span><span class="s2"> is not implemented&quot;</span><span class="p">)</span></div>


<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Series</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FRED.series">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series">[docs]</a>
    <span class="k">def</span> <span class="nf">series</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: models.Series</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series.html</span>

<span class="sd">        | Get an economic data series.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series?series_id=GNPCA&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;seriess&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: &quot;GNPCA&quot;,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;title&quot;: &quot;Real Gross National Product&quot;,</span>
<span class="sd">                        &quot;observation_start&quot;: &quot;1929-01-01&quot;,</span>
<span class="sd">                        &quot;observation_end&quot;: &quot;2012-01-01&quot;,</span>
<span class="sd">                        &quot;frequency&quot;: &quot;Annual&quot;,</span>
<span class="sd">                        &quot;frequency_short&quot;: &quot;A&quot;,</span>
<span class="sd">                        &quot;units&quot;: &quot;Billions of Chained 2009 Dollars&quot;,</span>
<span class="sd">                        &quot;units_short&quot;: &quot;Bil. of Chn. 2009 $&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment&quot;: &quot;Not Seasonally Adjusted&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment_short&quot;: &quot;NSA&quot;,</span>
<span class="sd">                        &quot;last_updated&quot;: &quot;2013-07-31 09:26:16-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 39,</span>
<span class="sd">                        &quot;notes&quot;: &quot;BEA Account Code: A001RX1&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series(series_id=&#39;GNPCA&#39;)</span>
<span class="sd">            </span>
<span class="sd">            # Series(id=&#39;GNPCA&#39;, realtime_start=datetime.date(2022, 1, 14), realtime_end=datetime.date(2022, 1, 14), title=&#39;Real Gross National Product&#39;, observation_start=datetime.date(1929, 1, 1), observation_end=datetime.date(2020, 1, 1), frequency=&#39;Annual&#39;, frequency_short=&#39;A&#39;, units=&#39;Billions of Chained 2012 Dollars&#39;, units_short=&#39;Bil. of Chn. 2012 $&#39;, seasonal_adjustment=&#39;Not Seasonally Adjusted&#39;, seasonal_adjustment_short=&#39;NSA&#39;, last_updated=datetime.datetime(2021, 7, 29, 7, 45, 58, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=68400))), popularity=12, notes=&#39;BEA Account Code: A001RX\\n\\n&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
            <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="FRED.series_categories">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_categories">[docs]</a>
    <span class="k">def</span> <span class="nf">series_categories</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html). </span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_categories.html</span>

<span class="sd">        | Get the categories for an economic data series.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/categories?series_id=EXJPUS&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;categories&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 95,</span>
<span class="sd">                        &quot;name&quot;: &quot;Monthly Rates&quot;,</span>
<span class="sd">                        &quot;parent_id&quot;: 15</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_categories(series_id=&#39;EXJPUS&#39;)</span>
<span class="sd">            </span>
<span class="sd">            #               name  parent_id</span>
<span class="sd">            # id</span>
<span class="sd">            # 95   Monthly Rates         15</span>
<span class="sd">            # 275          Japan        158</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/categories&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;categories&quot;</span><span class="p">,</span>
                <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_observations">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_observations">[docs]</a>
    <span class="k">def</span> <span class="nf">series_observations</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span><span class="p">,</span>
            <span class="n">observation_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">observation_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">units</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">Unit</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">Unit</span><span class="o">.</span><span class="n">lin</span><span class="p">,</span>
            <span class="n">frequency</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">Frequency</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">aggregation_method</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">AggregationMethod</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">AggregationMethod</span><span class="o">.</span><span class="n">average</span><span class="p">,</span>
            <span class="n">output_type</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="o">.</span><span class="n">realtime_period</span><span class="p">,</span>
            <span class="n">vintage_dates</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending observation_date order.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param observation_start: The start of the observation period.</span>
<span class="sd">        :type observation_start: datetime.date</span>
<span class="sd">        :param observation_end: The end of the observation period.</span>
<span class="sd">        :type observation_end: datetime.date</span>
<span class="sd">        :param units: A key that indicates a data value transformation.</span>
<span class="sd">        :type units: enums.Unit</span>
<span class="sd">        :param frequency: An optional parameter that indicates a lower frequency to aggregate values to.</span>
<span class="sd">        :type frequency: enums.Frequency</span>
<span class="sd">        :param aggregation_method: A key that indicates the aggregation method used for frequency aggregation. This parameter has no affect if the frequency parameter is not set.</span>
<span class="sd">        :type aggregation_method: enums.AggregationMethod</span>
<span class="sd">        :param output_type: An integer that indicates an output type. See https://alfred.stlouisfed.org/help/downloaddata#outputformats</span>
<span class="sd">        :type output_type: enums.OutputType</span>
<span class="sd">        :param vintage_dates: A comma separated string of YYYY-MM-DD formatted dates in history (e.g. 2000-01-01,2005-02-24). Vintage dates are used to download data as it existed on these specified dates in history. Vintage dates can be specified instead of a real-time period using realtime_start and realtime_end. Sometimes it may be useful to enter a vintage date that is not a date when the data values were revised. For instance you may want to know the latest available revisions on 2001-09-11 (World Trade Center and Pentagon attacks) or as of a Federal Open Market Committee (FOMC) meeting dt_date. Entering a vintage date is also useful to compare series on different releases with different release dates.</span>
<span class="sd">        :type vintage_dates: typing.Optional[list[str]]</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_observations.html</span>

<span class="sd">        | Get the observations or data values for an economic data series.</span>
<span class="sd">        </span>
<span class="sd">        .. warning::</span>
<span class="sd">            The FRED API seems to have implemented a hard cap of 2000 vintages to be retrieved at once (see :doc:`strange things &lt;strange&gt;` or `issues/2 &lt;https://github.com/TomasKoutek/pystlouisfed/issues/2&gt;`_ and `fredapi/pull/52 &lt;https://github.com/mortada/fredapi/pull/52&gt;`_).</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/observations?series_id=GNPCA&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;observation_start&quot;: &quot;1776-07-04&quot;,</span>
<span class="sd">                &quot;observation_end&quot;: &quot;9999-12-31&quot;,</span>
<span class="sd">                &quot;units&quot;: &quot;lin&quot;,</span>
<span class="sd">                &quot;output_type&quot;: 1,</span>
<span class="sd">                &quot;file_type&quot;: &quot;json&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;observation_date&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 84,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 100000,</span>
<span class="sd">                &quot;observations&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;date&quot;: &quot;1929-01-01&quot;,</span>
<span class="sd">                        &quot;value&quot;: &quot;1065.9&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        </span>
<span class="sd">        Plot value with `default &lt;https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html&gt;`_ `matplotlib &lt;https://matplotlib.org/&gt;`_:</span>

<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            from matplotlib import pyplot as plt</span>
<span class="sd">            from pystlouisfed import FRED</span>
<span class="sd">            </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            df = fred.series_observations(series_id=&quot;T10Y2Y&quot;)</span>
<span class="sd">            df.plot(y=&quot;value&quot;, grid=True)</span>
<span class="sd">    </span>
<span class="sd">            plt.show()</span>
<span class="sd">            </span>
<span class="sd">        .. image:: T10Y2Y.png</span>

<span class="sd">        Of course, we can use any library, for example `Plotly &lt;https://plotly.com/python/&gt;`_:</span>

<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            import plotly.express as px</span>
<span class="sd">            from pystlouisfed import FRED</span>
<span class="sd">            </span>
<span class="sd">            fred = FRED(api_key=&#39;abcdefghijklmnopqrstuvwxyz123456&#39;)</span>
<span class="sd">            df = fred.series_observations(series_id=&#39;SP500&#39;)</span>
<span class="sd">            </span>
<span class="sd">            fig = px.scatter(</span>
<span class="sd">                x=df.index,</span>
<span class="sd">                y=df.value,</span>
<span class="sd">                trendline=&quot;ols&quot;,</span>
<span class="sd">                trendline_color_override=&quot;red&quot;,</span>
<span class="sd">                title=f&quot;S&amp;P 500&quot;,</span>
<span class="sd">                labels={&quot;x&quot;: &quot;Date&quot;, &quot;y&quot;: &quot;Index&quot;},</span>
<span class="sd">            )</span>
<span class="sd">            fig.show()</span>
<span class="sd">            </span>
<span class="sd">        .. image:: sp500.png</span>
<span class="sd">        </span>
<span class="sd">        Output types</span>
<span class="sd">        ------------</span>
<span class="sd">        | These output formats are a cross tabulation between the series&#39; observation dates and the specified vintage dates.</span>
<span class="sd">        | The first column contains the observation dates for which the data values are measured.</span>
<span class="sd">        | The first row contains the vintage dates that specify dates in history and what data actually existed on past dates.</span>
<span class="sd">        | The interior cells contain data values for specific combinations of observation dates and vintage dates.</span>
<span class="sd">        | For details see https://alfred.stlouisfed.org/help/downloaddata#outputformats .</span>

<span class="sd">        Observations by Real-Time Period (default)</span>
<span class="sd">        ------------------------------------------</span>
<span class="sd">        </span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_observations(</span>
<span class="sd">                series_id=&quot;GNPCA&quot;,</span>
<span class="sd">                output_type=OutputType.realtime_period,</span>
<span class="sd">                realtime_start=date(2020, 7, 4),</span>
<span class="sd">                realtime_end=date(2023, 7, 20),</span>
<span class="sd">                observation_start=date(1990, 7, 1),</span>
<span class="sd">                observation_end=date(2023, 7, 1)</span>
<span class="sd">            ).head()</span>
<span class="sd">            </span>
<span class="sd">            # </span>
<span class="sd">            #             realtime_start realtime_end      value</span>
<span class="sd">            # date</span>
<span class="sd">            # 1929-01-01     2023-07-27   2023-07-27   1120.718</span>
<span class="sd">            # 1930-01-01     2023-07-27   2023-07-27   1025.678</span>
<span class="sd">            # 1931-01-01     2023-07-27   2023-07-27    958.927</span>
<span class="sd">            # 1932-01-01     2023-07-27   2023-07-27    834.769</span>
<span class="sd">            # 1933-01-01     2023-07-27   2023-07-27    823.628</span>

<span class="sd">        All Observations</span>
<span class="sd">        ----------------</span>
<span class="sd">        </span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_observations(</span>
<span class="sd">                series_id=&quot;GNPCA&quot;,</span>
<span class="sd">                output_type=OutputType.all,</span>
<span class="sd">                realtime_start=date(2020, 7, 4),</span>
<span class="sd">                realtime_end=date(2023, 7, 20),</span>
<span class="sd">                observation_start=date(1990, 7, 1),</span>
<span class="sd">                observation_end=date(2023, 7, 1)</span>
<span class="sd">            ).head()</span>
<span class="sd">    </span>
<span class="sd">            #             GNPCA_20200704  GNPCA_20200730  GNPCA_20210325  GNPCA_20210729  GNPCA_20220330  GNPCA_20220929  GNPCA_20230330  GNPCA_20230720</span>
<span class="sd">            # date</span>
<span class="sd">            # 1991-01-01        9406.669        9406.669        9406.669        9411.632        9411.632        9411.632        9411.632        9411.632</span>
<span class="sd">            # 1992-01-01        9734.705        9734.705        9734.705        9739.841        9739.841        9739.841        9739.841        9739.841</span>
<span class="sd">            # 1993-01-01       10000.831       10000.831       10000.831       10006.004       10006.004       10006.004       10006.004       10006.004</span>
<span class="sd">            # 1994-01-01       10389.663       10389.663       10389.663       10395.034       10395.034       10395.034       10395.034       10395.034</span>
<span class="sd">            # 1995-01-01       10672.832       10672.832       10672.832       10678.341       10678.341       10678.341       10678.341       10678.341</span>

<span class="sd">        New and Revised Observations Only</span>
<span class="sd">        ---------------------------------</span>

<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_observations(</span>
<span class="sd">                series_id=&#39;GNPCA&#39;,</span>
<span class="sd">                output_type=OutputType.new_and_revised,</span>
<span class="sd">                realtime_start=date(2020, 7, 4),</span>
<span class="sd">                realtime_end=date(2023, 7, 20),</span>
<span class="sd">                observation_start=date(1990, 7, 1),</span>
<span class="sd">                observation_end=date(2023, 7, 1)</span>
<span class="sd">            ).head()</span>
<span class="sd">    </span>
<span class="sd">            #             GNPCA_20210729  GNPCA_20200730  GNPCA_20220929  GNPCA_20210325  GNPCA_20220330  GNPCA_20230330</span>
<span class="sd">            # date</span>
<span class="sd">            # 1991-01-01        9411.632             NaN             NaN             NaN             NaN             NaN</span>
<span class="sd">            # 1992-01-01        9739.841             NaN             NaN             NaN             NaN             NaN</span>
<span class="sd">            # 1993-01-01       10006.004             NaN             NaN             NaN             NaN             NaN</span>
<span class="sd">            # 1994-01-01       10395.034             NaN             NaN             NaN             NaN             NaN</span>
<span class="sd">            # 1995-01-01       10678.341             NaN             NaN             NaN             NaN             NaN</span>


<span class="sd">        Initial Release Only</span>
<span class="sd">        --------------------</span>

<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_observations(</span>
<span class="sd">                series_id=&#39;GNPCA&#39;,</span>
<span class="sd">                output_type=OutputType.initial_release_only,</span>
<span class="sd">                realtime_start=date(2020, 7, 4),</span>
<span class="sd">                realtime_end=date(2023, 7, 20),</span>
<span class="sd">                observation_start=date(1990, 7, 1),</span>
<span class="sd">                observation_end=date(2023, 7, 1)</span>
<span class="sd">            ).head()</span>
<span class="sd">    </span>
<span class="sd">            #            realtime_start realtime_end      value</span>
<span class="sd">            # date</span>
<span class="sd">            # 2020-01-01     2021-03-25   2021-07-28  18612.022</span>
<span class="sd">            # 2021-01-01     2022-03-30   2022-09-28  19644.028</span>
<span class="sd">            # 2022-01-01     2023-03-30   2023-07-20  20158.225</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">observation_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">observation_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">observation_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">observation_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">units</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">Unit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable units (</span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">Unit</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">frequency</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">Frequency</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable frequency (</span><span class="si">{</span><span class="n">frequency</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">Frequency</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">aggregation_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">AggregationMethod</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable aggregation_method (</span><span class="si">{</span><span class="n">aggregation_method</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">AggregationMethod</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">output_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable output_type (</span><span class="si">{</span><span class="n">output_type</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/observations&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;observations&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span>
                <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">observation_start</span><span class="o">=</span><span class="n">observation_start</span><span class="p">,</span>
                <span class="n">observation_end</span><span class="o">=</span><span class="n">observation_end</span><span class="p">,</span>
                <span class="n">units</span><span class="o">=</span><span class="n">units</span><span class="p">,</span>
                <span class="n">frequency</span><span class="o">=</span><span class="n">frequency</span><span class="p">,</span>
                <span class="n">aggregation_method</span><span class="o">=</span><span class="n">aggregation_method</span><span class="p">,</span>
                <span class="n">output_type</span><span class="o">=</span><span class="n">output_type</span><span class="p">,</span>
                <span class="n">vintage_dates</span><span class="o">=</span><span class="n">vintage_dates</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">and</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="o">.</span><span class="n">realtime_period</span><span class="p">,</span> <span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="o">.</span><span class="n">initial_release_only</span><span class="p">]:</span>
            <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span>

            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">EMPTY_VALUE</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">and</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="o">.</span><span class="n">all</span><span class="p">,</span> <span class="n">enums</span><span class="o">.</span><span class="n">OutputType</span><span class="o">.</span><span class="n">new_and_revised</span><span class="p">]:</span>
            <span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_release">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_release">[docs]</a>
    <span class="k">def</span> <span class="nf">series_release</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html). </span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: datetime.date, he end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_release.html</span>

<span class="sd">        | Get the release for an economic data series.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/release?series_id=IRA&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;releases&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 21,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;H.6 Money Stock Measures&quot;,</span>
<span class="sd">                        &quot;press_release&quot;: true,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.federalreserve.gov/releases/h6/&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_release(series_id=&#39;IRA&#39;).head()</span>
<span class="sd">            </span>
<span class="sd">            #    realtime_start realtime_end                      name  press_release                                        link</span>
<span class="sd">            # id</span>
<span class="sd">            # 21     2022-02-05   2022-02-05  H.6 Money Stock Measures           True  http://www.federalreserve.gov/releases/h6/</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/release&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;releases&quot;</span><span class="p">,</span>
                <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># fix https://github.com/TomasKoutek/pystlouisfed/issues/1</span>
            <span class="c1"># Is the link optional?</span>
            <span class="c1"># Why doesn&#39;t FRED return an empty column?</span>
            <span class="k">if</span> <span class="s2">&quot;link&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="n">df</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;press_release&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_search">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_search">[docs]</a>
    <span class="k">def</span> <span class="nf">series_search</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">search_type</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span><span class="o">.</span><span class="n">full_text</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">filter_variable</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">filter_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param search_text: The words to match against economic data series.</span>
<span class="sd">        :type search_text: str</span>
<span class="sd">        :param search_type: Determines the type of search to perform.</span>
<span class="sd">        :type search_type: enums.SearchType</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :param filter_variable: The attribute to filter results by.</span>
<span class="sd">        :type filter_variable: enums.FilterVariable</span>
<span class="sd">        :param filter_value: The value of the filter_variable attribute to filter results by.</span>
<span class="sd">        :type filter_value: enums.FilterValue</span>
<span class="sd">        :param tag_names: A semicolon delimited list of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: A semicolon delimited list of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_search.html</span>

<span class="sd">        | Get economic data series that match search text.</span>
<span class="sd">        </span>
<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/search?search_text=monetary+service+index&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">              &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;order_by&quot;: &quot;search_rank&quot;,</span>
<span class="sd">              &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">              &quot;count&quot;: 32,</span>
<span class="sd">              &quot;offset&quot;: 0,</span>
<span class="sd">              &quot;limit&quot;: 1000,</span>
<span class="sd">              &quot;seriess&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;id&quot;: &quot;MSIM2&quot;,</span>
<span class="sd">                      &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                      &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                      &quot;title&quot;: &quot;Monetary Services Index: M2 (preferred)&quot;,</span>
<span class="sd">                      &quot;observation_start&quot;: &quot;1967-01-01&quot;,</span>
<span class="sd">                      &quot;observation_end&quot;: &quot;2013-12-01&quot;,</span>
<span class="sd">                      &quot;frequency&quot;: &quot;Monthly&quot;,</span>
<span class="sd">                      &quot;frequency_short&quot;: &quot;M&quot;,</span>
<span class="sd">                      &quot;units&quot;: &quot;Billions of Dollars&quot;,</span>
<span class="sd">                      &quot;units_short&quot;: &quot;Bil. of $&quot;,</span>
<span class="sd">                      &quot;seasonal_adjustment&quot;: &quot;Seasonally Adjusted&quot;,</span>
<span class="sd">                      &quot;seasonal_adjustment_short&quot;: &quot;SA&quot;,</span>
<span class="sd">                      &quot;last_updated&quot;: &quot;2014-01-17 07:16:44-06&quot;,</span>
<span class="sd">                      &quot;popularity&quot;: 34,</span>
<span class="sd">                      &quot;group_popularity&quot;: 33,</span>
<span class="sd">                      &quot;notes&quot;: &quot;The MSI measure the flow of monetary services received each period by households and firms from their holdings of monetary assets (levels of the indexes are sometimes referred to as Divisia monetary aggregates).\\nPreferred benchmark rate equals 100 basis points plus the largest rate in the set of rates.\\nAlternative benchmark rate equals the larger of the preferred benchmark rate and the Baa corporate bond yield.\\nMore information about the new MSI can be found at\\nhttp://research.stlouisfed.org/msi/index.html.&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_search(search_text=&#39;monetary service index&#39;).head()</span>
<span class="sd">        </span>
<span class="sd">            #         realtime_start realtime_end                                            title observation_start observation_end frequency frequency_short                units units_short  seasonal_adjustment seasonal_adjustment_short              last_updated  popularity  group_popularity                                              notes</span>
<span class="sd">            # id</span>
<span class="sd">            # MSIMZMP     2022-02-05   2022-02-05         Monetary Services Index: MZM (preferred)        1967-01-01      2013-12-01   Monthly               M  Billions of Dollars   Bil. of $  Seasonally Adjusted                        SA 2014-01-17 13:16:42+00:00          20                20  The MSI measure the flow of monetary services ...</span>
<span class="sd">            # MSIM2       2022-02-05   2022-02-05          Monetary Services Index: M2 (preferred)        1967-01-01      2013-12-01   Monthly               M  Billions of Dollars   Bil. of $  Seasonally Adjusted                        SA 2014-01-17 13:16:44+00:00          16                16  The MSI measure the flow of monetary services ...</span>
<span class="sd">            # MSIALLP     2022-02-05   2022-02-05  Monetary Services Index: ALL Assets (preferred)        1967-01-01      2013-12-01   Monthly               M  Billions of Dollars   Bil. of $  Seasonally Adjusted                        SA 2014-01-17 13:16:45+00:00          14                14  The MSI measure the flow of monetary services ...</span>
<span class="sd">            # MSIM1P      2022-02-05   2022-02-05          Monetary Services Index: M1 (preferred)        1967-01-01      2013-12-01   Monthly               M  Billions of Dollars   Bil. of $  Seasonally Adjusted                        SA 2014-01-17 13:16:45+00:00           9                 9  The MSI measure the flow of monetary services ...</span>
<span class="sd">            # MSIM2A      2022-02-05   2022-02-05        Monetary Services Index: M2 (alternative)        1967-01-01      2013-12-01   Monthly               M  Billions of Dollars   Bil. of $  Seasonally Adjusted                        SA 2014-01-17 13:16:44+00:00           8                 8  The MSI measure the flow of monetary services ...</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">search_rank</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">last_updated</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_popularity</span>
        <span class="p">]</span>

        <span class="c1"># If the value of search_type is &#39;full_text&#39; then the default value of order_by is &#39;search_rank&#39;.</span>
        <span class="k">if</span> <span class="n">search_type</span> <span class="o">==</span> <span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span><span class="o">.</span><span class="n">full_text</span> <span class="ow">and</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">order_by</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">search_rank</span>
        <span class="c1"># If the value of search_type is &#39;series_id&#39; then the default value of order_by is &#39;series_id&#39;.</span>
        <span class="k">elif</span> <span class="n">search_text</span> <span class="o">==</span> <span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span><span class="o">.</span><span class="n">series_id</span> <span class="ow">and</span> <span class="n">order_by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">order_by</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span>

        <span class="c1"># If order_by is equal to &#39;search_rank&#39; or &#39;popularity&#39;, then the default value of sort_order is &#39;desc&#39;. Otherwise, the default sort order is &#39;asc&#39;.</span>
        <span class="k">if</span> <span class="n">order_by</span> <span class="o">==</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">search_rank</span> <span class="ow">or</span> <span class="n">order_by</span> <span class="o">==</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span> <span class="ow">and</span> <span class="n">sort_order</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sort_order</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">desc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sort_order</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">search_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable search_type (</span><span class="si">{</span><span class="n">search_type</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">SearchType</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filter_variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">filter_variable</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable filter_variable (</span><span class="si">{</span><span class="n">filter_variable</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">FilterVariable</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/search&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">search_type</span><span class="o">=</span><span class="n">search_type</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span><span class="p">,</span>
                <span class="n">filter_variable</span><span class="o">=</span><span class="n">filter_variable</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="n">filter_value</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span>
            <span class="s2">&quot;observation_start&quot;</span><span class="p">,</span> <span class="s2">&quot;observation_end&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_search_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_search_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">series_search_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_search_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_search_text: The words to match against economic data series.</span>
<span class="sd">        :type series_search_text: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: A semicolon delimited list of tag names to only include in the response. See the related request fred/series/search/related_tags.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param tag_search_text: The words to find matching tags with.</span>
<span class="sd">        :type tag_search_text: str</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_search_tags.html</span>

<span class="sd">        | Get the FRED tags for a series search. Optionally, filter results by tag name, tag group, or tag search. See the related request fred/series/search/related_tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/search/tags?series_search_text=monetary+service+index&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 18,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;academic data&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;gen&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;Time series data created mainly by academia to address growing demand in understanding specific concerns in the economy that are not well modeled by ordinary statistical agencies.&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-08-29 10:22:19-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 62,</span>
<span class="sd">                        &quot;series_count&quot;: 25</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_search_tags(series_search_text=&#39;monetary service index&#39;).head()</span>
<span class="sd">        </span>
<span class="sd">            #               group_id            notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # accounting         gen                  2012-02-27 16:18:19+00:00          43             2</span>
<span class="sd">            # advertisement      gen                  2012-08-06 19:50:07+00:00          17             2</span>
<span class="sd">            # assets             gen                  2012-02-27 16:18:19+00:00          64             2</span>
<span class="sd">            # boe                src  Bank of England 2013-02-25 22:21:19+00:00          42             2</span>
<span class="sd">            # communication      gen                  2012-02-27 16:18:19+00:00          22             2</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/search/tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">series_search_text</span><span class="o">=</span><span class="n">series_search_text</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">tag_search_text</span><span class="o">=</span><span class="n">tag_search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_search_related_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_search_related_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">series_search_related_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_search_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_search_text: The words to match against economic data series.</span>
<span class="sd">        :type series_search_text: str </span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: A semicolon delimited list of tag names to only include in the response. See the related request fred/series/search/related_tags.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: A semicolon delimited list of tag names that series match none of..</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param tag_search_text: The words to find matching tags with.</span>
<span class="sd">        :type tag_search_text: str</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">            </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_search_related_tags.html</span>

<span class="sd">        | Get the related FRED tags for one or more FRED tags matching a series search. Optionally, filter results by tag group or tag search.</span>
<span class="sd">        | FRED tags are attributes assigned to series.</span>
<span class="sd">        | For this request, related FRED tags are the tags assigned to series that match all tags in the tag_names parameter, no tags in the exclude_tag_names parameter,</span>
<span class="sd">        | and the search words set by the series_search_text parameter.</span>
<span class="sd">        | See the related request fred/series/search/tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/search/related_tags?series_search_text=mortgage+rate&amp;tag_names=30-year;frb&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 10,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;conventional&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;gen&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 63,</span>
<span class="sd">                        &quot;series_count&quot;: 3</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_search_related_tags(series_search_text=&#39;mortgage rate&#39;, tag_names=[&#39;30-year&#39;, &#39;frb&#39;], realtime_start=date(2022, 1, 5), realtime_end=date(2022, 1, 5)).head()</span>
<span class="sd">        </span>
<span class="sd">            #               group_id                         notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # conventional       gen                               2012-02-27 16:18:19+00:00          21             2</span>
<span class="sd">            # discontinued       gen                               2012-02-27 16:18:19+00:00          67             2</span>
<span class="sd">            # h15                rls  H.15 Selected Interest Rates 2012-08-16 20:21:17+00:00          57             2</span>
<span class="sd">            # interest           gen                               2012-02-27 16:18:19+00:00          74             2</span>
<span class="sd">            # interest rate      gen                               2012-05-29 15:14:19+00:00          74             2</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/search/related_tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">series_search_text</span><span class="o">=</span><span class="n">series_search_text</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">tag_search_text</span><span class="o">=</span><span class="n">tag_search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">series_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">         </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_tags.html</span>

<span class="sd">        | Get the FRED tags for a series.</span>
<span class="sd">        </span>
<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/tags?series_id=STLFSI&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 8,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;nation&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;geot&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;Country Level&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 100,</span>
<span class="sd">                        &quot;series_count&quot;: 105200</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_tags(series_id=&#39;STLFSI&#39;).head()</span>
<span class="sd">            </span>
<span class="sd">            #              group_id                             notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # stlfsi            rls  St. Louis Financial Stress Index 2012-08-16 20:21:17+00:00          19             4</span>
<span class="sd">            # fsi               gen            Financial Stress Index 2014-08-08 19:01:37+00:00          26            26</span>
<span class="sd">            # weekly           freq                                   2012-02-27 16:18:19+00:00          68          3548</span>
<span class="sd">            # financial         gen                                   2012-02-27 16:18:19+00:00          55         21652</span>
<span class="sd">            # discontinued      gen                                   2012-02-27 16:18:19+00:00          67         40386</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_updates">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_updates">[docs]</a>
    <span class="k">def</span> <span class="nf">series_updates</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">filter_value</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="o">.</span><span class="n">all</span><span class="p">,</span>
            <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param filter_value: Limit results by geographic type of economic data series; namely &#39;macro&#39;, &#39;regional&#39;, and &#39;all&#39;.</span>
<span class="sd">        :type filter_value: enums.FilterValue</span>
<span class="sd">        :param start_time: Start time for limiting results for a time range, can filter down to minutes</span>
<span class="sd">        :type start_time: typing.Optional[datetime]</span>
<span class="sd">        :param end_time: End time for limiting results for a time range, can filter down to minutes</span>
<span class="sd">        :type end_time: typing.Optional[datetime]</span>
<span class="sd">        :rtype: pandas.DataFrame       </span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_updates.html</span>

<span class="sd">        | Get economic data series sorted by when observations were updated on the FRED server (attribute last_updated).</span>
<span class="sd">        | Results are limited to series updated within the last two weeks.</span>
<span class="sd">        </span>
<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/updates?api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">            </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;filter_variable&quot;: &quot;geography&quot;,</span>
<span class="sd">                &quot;filter_value&quot;: &quot;all&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;last_updated&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 143535,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 100,</span>
<span class="sd">                &quot;seriess&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: &quot;PPIITM&quot;,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;title&quot;: &quot;Producer Price Index: Intermediate Materials: Supplies &amp; Components&quot;,</span>
<span class="sd">                        &quot;observation_start&quot;: &quot;1947-04-01&quot;,</span>
<span class="sd">                        &quot;observation_end&quot;: &quot;2013-07-01&quot;,</span>
<span class="sd">                        &quot;frequency&quot;: &quot;Monthly&quot;,</span>
<span class="sd">                        &quot;frequency_short&quot;: &quot;M&quot;,</span>
<span class="sd">                        &quot;units&quot;: &quot;Index 1982=100&quot;,</span>
<span class="sd">                        &quot;units_short&quot;: &quot;Index 1982=100&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment&quot;: &quot;Seasonally Adjusted&quot;,</span>
<span class="sd">                        &quot;seasonal_adjustment_short&quot;: &quot;SA&quot;,</span>
<span class="sd">                        &quot;last_updated&quot;: &quot;2013-08-14 08:36:05-05&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 52</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_updates(start_time=datetime(2022, 1, 15), end_time=datetime(2022, 1, 16)).head()</span>
<span class="sd">            </span>
<span class="sd">            #          realtime_start realtime_end                  title observation_start observation_end     frequency frequency_short         units units_short      seasonal_adjustment seasonal_adjustment_short              last_updated  popularity                                              notes</span>
<span class="sd">            # id</span>
<span class="sd">            # SP500        2022-02-05   2022-02-05                S&amp;P 500        2012-02-06      2022-02-04  Daily, Close               D         Index       Index  Not Seasonally Adjusted                       NSA 2022-02-05 01:11:04+00:00          85  The observations for the S&amp;P 500 represent the...</span>
<span class="sd">            # CBBCHUSD     2022-02-05   2022-02-05  Coinbase Bitcoin Cash        2017-12-20      2022-02-04  Daily, 7-Day               D  U.S. Dollars      U.S. $  Not Seasonally Adjusted                       NSA 2022-02-05 01:04:07+00:00          22  All data is as of 5 PM PST.</span>
<span class="sd">            # CBBTCUSD     2022-02-05   2022-02-05       Coinbase Bitcoin        2014-12-01      2022-02-04  Daily, 7-Day               D  U.S. Dollars      U.S. $  Not Seasonally Adjusted                       NSA 2022-02-05 01:04:06+00:00          65  All data is as of 5 PM PST.</span>
<span class="sd">            # CBETHUSD     2022-02-05   2022-02-05      Coinbase Ethereum        2016-05-18      2022-02-04  Daily, 7-Day               D  U.S. Dollars      U.S. $  Not Seasonally Adjusted                       NSA 2022-02-05 01:04:05+00:00          44  All data is as of 5 PM PST.</span>
<span class="sd">            # CBLTCUSD     2022-02-05   2022-02-05      Coinbase Litecoin        2016-08-17      2022-02-04  Daily, 7-Day               D  U.S. Dollars      U.S. $  Not Seasonally Adjusted                       NSA 2022-02-05 01:04:03+00:00          20  All data is as of 5 PM PST.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">filter_value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable filter_value (</span><span class="si">{</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">FilterValue</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;end_time is required if start_time is set&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_time is required if end_time is set&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">start_time</span> <span class="o">&gt;=</span> <span class="n">end_time</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;end_time must be greater than start_time&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/updates&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="n">filter_value</span><span class="p">,</span>
                <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span>
            <span class="s2">&quot;observation_start&quot;</span><span class="p">,</span> <span class="s2">&quot;observation_end&quot;</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;popularity&quot;</span><span class="p">:</span> <span class="nb">int</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.series_vintagedates">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.series_vintagedates">[docs]</a>
    <span class="k">def</span> <span class="nf">series_vintagedates</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param series_id: The id for a series.</span>
<span class="sd">        :type series_id: str</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.             </span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.Series</span>

<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/series_vintagedates.html</span>

<span class="sd">        | Get the dates in history when a series&#39; data values were revised or new data values were released.</span>
<span class="sd">        | Vintage dates are the release dates for a series excluding release dates when the data for the series did not change.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/series/vintagedates?series_id=GNPCA&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;1776-07-04&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-12-31&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;vintage_date&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 162,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 10000,</span>
<span class="sd">                &quot;vintage_dates&quot;: [</span>
<span class="sd">                    &quot;1958-12-21&quot;,</span>
<span class="sd">                    &quot;1959-02-19&quot;,</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.series_vintagedates(series_id=&#39;GNPCA&#39;).head()</span>
<span class="sd">        </span>
<span class="sd">            # 0    1958-12-21</span>
<span class="sd">            # 1    1959-02-19</span>
<span class="sd">            # 2    1959-07-19</span>
<span class="sd">            # 3    1960-02-16</span>
<span class="sd">            # 4    1960-07-22</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/series/vintagedates&quot;</span><span class="p">,</span>
                    <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;vintage_dates&quot;</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                    <span class="n">series_id</span><span class="o">=</span><span class="n">series_id</span><span class="p">,</span>
                    <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                    <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                    <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
                <span class="p">)</span>
            <span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span>
        <span class="p">)</span></div>


<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sources</span>

<span class="sd">    https://fred.stlouisfed.org/sources</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FRED.sources">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.sources">[docs]</a>
    <span class="k">def</span> <span class="nf">sources</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">source_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/sources.html</span>

<span class="sd">        | Get all sources of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/sources?api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">            </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;source_id&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 58,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;sources&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 1,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;Board of Governors of the Federal Reserve System&quot;,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.federalreserve.gov/&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.sources()</span>
<span class="sd">        </span>
<span class="sd">            #    realtime_start realtime_end                                               name                              link notes</span>
<span class="sd">            # id</span>
<span class="sd">            # 1      2022-02-05   2022-02-05  Board of Governors of the Federal Reserve Syst...    http://www.federalreserve.gov/  &lt;NA&gt;</span>
<span class="sd">            # 3      2022-02-05   2022-02-05               Federal Reserve Bank of Philadelphia  https://www.philadelphiafed.org/  &lt;NA&gt;</span>
<span class="sd">            # 4      2022-02-05   2022-02-05                  Federal Reserve Bank of St. Louis        http://www.stlouisfed.org/  &lt;NA&gt;</span>
<span class="sd">            # 6      2022-02-05   2022-02-05  Federal Financial Institutions Examination Cou...             http://www.ffiec.gov/  &lt;NA&gt;</span>
<span class="sd">            # 11     2022-02-05   2022-02-05                                Dow Jones &amp; Company           http://www.dowjones.com  &lt;NA&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">source_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/sources&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.source">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.source">[docs]</a>
    <span class="k">def</span> <span class="nf">source</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">source_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">Source</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param source_id: The id for a source.</span>
<span class="sd">        :type source_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html). </span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :rtype: models.Source</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/source.html</span>

<span class="sd">        | Get a source of economic data.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/source?source_id=1&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;sources&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 1,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;Board of Governors of the Federal Reserve System&quot;,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.federalreserve.gov/&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.source(source_id=1)</span>
<span class="sd">        </span>
<span class="sd">            # Source(id=1, realtime_start=&#39;2022-01-14&#39;, realtime_end=&#39;2022-01-14&#39;, name=&#39;Board of Governors of the Federal Reserve System (US)&#39;, link=&#39;http://www.federalreserve.gov/&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/source&quot;</span><span class="p">,</span>
            <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
            <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="FRED.source_releases">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.source_releases">[docs]</a>
    <span class="k">def</span> <span class="nf">source_releases</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">source_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param source_id: The id for a source.</span>
<span class="sd">        :type source_id: int</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">       </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/source_releases.html</span>

<span class="sd">        | Get the releases for a source.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/source/releases?source_id=1&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;release_id&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">                &quot;count&quot;: 26,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;releases&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;id&quot;: 13,</span>
<span class="sd">                        &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                        &quot;name&quot;: &quot;G.17 Industrial Production and Capacity Utilization&quot;,</span>
<span class="sd">                        &quot;press_release&quot;: true,</span>
<span class="sd">                        &quot;link&quot;: &quot;http://www.federalreserve.gov/releases/g17/&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.source_releases(source_id=1).head()</span>
<span class="sd">        </span>
<span class="sd">            #    realtime_start realtime_end                                               name  press_release                                         link notes</span>
<span class="sd">            # id</span>
<span class="sd">            # 13     2022-02-05   2022-02-05  G.17 Industrial Production and Capacity Utiliz...           True  http://www.federalreserve.gov/releases/g17/  &lt;NA&gt;</span>
<span class="sd">            # 14     2022-02-05   2022-02-05                               G.19 Consumer Credit           True  http://www.federalreserve.gov/releases/g19/  &lt;NA&gt;</span>
<span class="sd">            # 15     2022-02-05   2022-02-05                         G.5 Foreign Exchange Rates           True   http://www.federalreserve.gov/releases/g5/  &lt;NA&gt;</span>
<span class="sd">            # 17     2022-02-05   2022-02-05                        H.10 Foreign Exchange Rates           True  http://www.federalreserve.gov/releases/h10/  &lt;NA&gt;</span>
<span class="sd">            # 18     2022-02-05   2022-02-05                       H.15 Selected Interest Rates           True  http://www.federalreserve.gov/releases/h15/  &lt;NA&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">release_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">press_release</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/source/releases&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;releases&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;press_release&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tags</span>

<span class="sd">    https://fred.stlouisfed.org/tags</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FRED.tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.tags">[docs]</a>
    <span class="k">def</span> <span class="nf">tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str </span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame </span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/tags.html</span>

<span class="sd">        | Get FRED tags. Optionally, filter results by tag name, tag group, or search. FRED tags are attributes assigned to series. See the related request fred/related_tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/tags?api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 4794,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;nation&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;geot&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;Country Level&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 100,</span>
<span class="sd">                        &quot;series_count&quot;: 105200</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.tags().head()</span>
<span class="sd">        </span>
<span class="sd">            #                group_id notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # 14 years +          gen       2012-08-06 19:40:56+00:00          -6             2</span>
<span class="sd">            # 2-month +           gen       2012-08-06 19:34:05+00:00         -62             2</span>
<span class="sd">            # 2-week              gen       2012-05-25 16:29:34+00:00          -6             2</span>
<span class="sd">            # 30 to 34 years      gen       2013-10-10 21:13:04+00:00         -13             2</span>
<span class="sd">            # 3-family +          gen       2012-08-06 19:48:11+00:00         -49             2</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tag_group_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">tag_group_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable tag_group_id (</span><span class="si">{</span><span class="n">tag_group_id</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.related_tags">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.related_tags">[docs]</a>
    <span class="k">def</span> <span class="nf">related_tags</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">tag_group_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">search_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param tag_group_id: A tag group id to filter tags by type.</span>
<span class="sd">        :type tag_group_id: enums.TagGroupID</span>
<span class="sd">        :param search_text: The words to find matching tags with.</span>
<span class="sd">        :type search_text: str </span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">            </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/related_tags.html</span>

<span class="sd">        | Get the related FRED tags for one or more FRED tags.</span>
<span class="sd">        | Optionally, filter results by tag group or search.</span>
<span class="sd">        | FRED tags are attributes assigned to series.</span>
<span class="sd">        | Related FRED tags are the tags assigned to series that match all tags in the tag_names parameter and no tags in the exclude_tag_names parameter.</span>
<span class="sd">        | See the related request fred/tags.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/related_tags?tag_names=monetary+aggregates;weekly&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">                &quot;realtime_start&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;realtime_end&quot;: &quot;2013-08-14&quot;,</span>
<span class="sd">                &quot;order_by&quot;: &quot;series_count&quot;,</span>
<span class="sd">                &quot;sort_order&quot;: &quot;desc&quot;,</span>
<span class="sd">                &quot;count&quot;: 13,</span>
<span class="sd">                &quot;offset&quot;: 0,</span>
<span class="sd">                &quot;limit&quot;: 1000,</span>
<span class="sd">                &quot;tags&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;name&quot;: &quot;nation&quot;,</span>
<span class="sd">                        &quot;group_id&quot;: &quot;geot&quot;,</span>
<span class="sd">                        &quot;notes&quot;: &quot;Country Level&quot;,</span>
<span class="sd">                        &quot;created&quot;: &quot;2012-02-27 10:18:19-06&quot;,</span>
<span class="sd">                        &quot;popularity&quot;: 100,</span>
<span class="sd">                        &quot;series_count&quot;: 12</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.related_tags(tag_names=[&#39;monetary aggregates&#39;, &#39;weekly&#39;]).head()</span>
<span class="sd">            </span>
<span class="sd">                                           group_id           notes                   created  popularity  series_count</span>
<span class="sd">            # name</span>
<span class="sd">            # copyrighted: citation required       cc            &lt;NA&gt; 2018-12-18 05:33:13+00:00          88             2</span>
<span class="sd">            # currency                            gen                 2012-02-27 16:18:19+00:00          62             2</span>
<span class="sd">            # frb stl                             src   St. Louis Fed 2012-02-27 16:18:19+00:00          68             2</span>
<span class="sd">            # m1                                  gen  M1 Money Stock 2012-02-27 16:18:19+00:00          47             2</span>
<span class="sd">            # m3                                  gen  M3 Money Stock 2012-02-27 16:18:19+00:00          39             2</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_count</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_id</span>
        <span class="p">]</span>

        <span class="n">allowed_tag_group_ids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">general_or_concept</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">geography</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">geography_type</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">release</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">TagGroupID</span><span class="o">.</span><span class="n">source</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tag_group_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">tag_group_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_tag_group_ids</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable tag_group_id (</span><span class="si">{</span><span class="n">tag_group_id</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_tag_group_ids</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/related_tags&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span><span class="p">,</span>
                <span class="n">tag_group_id</span><span class="o">=</span><span class="n">tag_group_id</span><span class="p">,</span>
                <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="FRED.tags_series">
<a class="viewcode-back" href="../../client.html#pystlouisfed.FRED.tags_series">[docs]</a>
    <span class="k">def</span> <span class="nf">tags_series</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">exclude_tag_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">realtime_end</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt_date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order_by</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">sort_order</span><span class="p">:</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">SortOrder</span><span class="o">.</span><span class="n">asc</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param tag_names: Tuple of tag names that series match all of.</span>
<span class="sd">        :type tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param exclude_tag_names: Tuple of tag names that series match none of.</span>
<span class="sd">        :type exclude_tag_names: typing.Optional[list[str]]</span>
<span class="sd">        :param realtime_start: The start of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_start: datetime.date</span>
<span class="sd">        :param realtime_end: The end of the real-time period. For more information, see [Real-Time Periods](https://fred.stlouisfed.org/docs/api/fred/realtime_period.html).</span>
<span class="sd">        :type realtime_end: datetime.date</span>
<span class="sd">        :param order_by: Order results by values of the specified attribute.</span>
<span class="sd">        :type order_by: enums.OrderBy</span>
<span class="sd">        :param sort_order: Sort results is ascending or descending order for attribute values specified by order_by.</span>
<span class="sd">        :type sort_order: enums.SortOrder</span>
<span class="sd">        :rtype: pandas.DataFrame</span>
<span class="sd">        </span>
<span class="sd">        Description</span>
<span class="sd">        -----------</span>
<span class="sd">        | https://fred.stlouisfed.org/docs/api/fred/tags_series.html</span>

<span class="sd">        | Get the series matching all tags in the tag_names parameter and no tags in the exclude_tag_names parameter.</span>

<span class="sd">        IGNORE:</span>
<span class="sd">        API Request</span>
<span class="sd">        -----------</span>
<span class="sd">        https://api.stlouisfed.org/fred/tags/series?tag_names=slovenia;food;oecd&amp;api_key=abcdefghijklmnopqrstuvwxyz123456&amp;file_type=json</span>

<span class="sd">        API Response</span>
<span class="sd">        ------------</span>
<span class="sd">        .. code-block:: json</span>
<span class="sd">        </span>
<span class="sd">            {</span>
<span class="sd">              &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">              &quot;order_by&quot;: &quot;series_id&quot;,</span>
<span class="sd">              &quot;sort_order&quot;: &quot;asc&quot;,</span>
<span class="sd">              &quot;count&quot;: 18,</span>
<span class="sd">              &quot;offset&quot;: 0,</span>
<span class="sd">              &quot;limit&quot;: 1000,</span>
<span class="sd">              &quot;seriess&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;id&quot;: &quot;CPGDFD02SIA657N&quot;,</span>
<span class="sd">                      &quot;realtime_start&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                      &quot;realtime_end&quot;: &quot;2017-08-01&quot;,</span>
<span class="sd">                      &quot;title&quot;: &quot;Consumer Price Index: Total Food Excluding Restaurants for Slovenia\u00a9&quot;,</span>
<span class="sd">                      &quot;observation_start&quot;: &quot;1996-01-01&quot;,</span>
<span class="sd">                      &quot;observation_end&quot;: &quot;2016-01-01&quot;,</span>
<span class="sd">                      &quot;frequency&quot;: &quot;Annual&quot;,</span>
<span class="sd">                      &quot;frequency_short&quot;: &quot;A&quot;,</span>
<span class="sd">                      &quot;units&quot;: &quot;Growth Rate Previous Period&quot;,</span>
<span class="sd">                      &quot;units_short&quot;: &quot;Growth Rate Previous Period&quot;,</span>
<span class="sd">                      &quot;seasonal_adjustment&quot;: &quot;Not Seasonally Adjusted&quot;,</span>
<span class="sd">                      &quot;seasonal_adjustment_short&quot;: &quot;NSA&quot;,</span>
<span class="sd">                      &quot;last_updated&quot;: &quot;2017-04-20 00:48:35-05&quot;,</span>
<span class="sd">                      &quot;popularity&quot;: 0,</span>
<span class="sd">                      &quot;group_popularity&quot;: 0,</span>
<span class="sd">                      &quot;notes&quot;: &quot;OECD descriptor ID: CPGDFD02\\nOECD unit ID: GP\\nOECD country ID: SVN\\n\\nAll OECD data should be cited as follows: OECD, \\&quot;Main Economic Indicators - complete database\\&quot;, Main Economic Indicators (database),http://dx.doi.org/10.1787/data-00052-en (Accessed on date)\\nCopyright, 2016, OECD. Reprinted with permission.&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">        IGNORE</span>
<span class="sd">        </span>
<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        .. code-block:: python</span>
<span class="sd">        </span>
<span class="sd">            fred = FRED(api_key=&quot;abcdefghijklmnopqrstuvwxyz123456&quot;)</span>
<span class="sd">            fred.tags_series(tag_names=[&#39;food&#39;, &#39;oecd&#39;]).head()</span>
<span class="sd">        </span>
<span class="sd">            #                 realtime_start realtime_end                                              title observation_start observation_end  frequency frequency_short           units     units_short      seasonal_adjustment seasonal_adjustment_short              last_updated  popularity  group_popularity                                              notes</span>
<span class="sd">            # id</span>
<span class="sd">            # AUSCPICORAINMEI     2022-02-05   2022-02-05  Consumer Price Index: All Items Excluding Food...        1972-01-01      2020-01-01     Annual               A  Index 2015=100  Index 2015=100  Not Seasonally Adjusted                       NSA 2021-02-17 18:27:39+00:00           1                12  Copyright, 2016, OECD. Reprinted with permissi...</span>
<span class="sd">            # AUSCPICORQINMEI     2022-02-05   2022-02-05  Consumer Price Index: All Items Excluding Food...        1971-04-01      2021-07-01  Quarterly               Q  Index 2015=100  Index 2015=100  Not Seasonally Adjusted                       NSA 2021-12-14 21:57:04+00:00          12                12  Copyright, 2016, OECD. Reprinted with permissi...</span>
<span class="sd">            # AUSCPIFODAINMEI     2022-02-05   2022-02-05           Consumer Price Index: Food for Australia        1977-01-01      2017-01-01     Annual               A  Index 2010=100  Index 2010=100  Not Seasonally Adjusted                       NSA 2018-03-09 21:12:09+00:00           1                 2  Copyright, 2016, OECD. Reprinted with permissi...</span>
<span class="sd">            # AUSCPIFODQINMEI     2022-02-05   2022-02-05           Consumer Price Index: Food for Australia        1976-07-01      2018-01-01  Quarterly               Q  Index 2010=100  Index 2010=100  Not Seasonally Adjusted                       NSA 2018-04-24 19:51:04+00:00           2                 2  Copyright, 2016, OECD. Reprinted with permissi...</span>
<span class="sd">            # AUTCPICORAINMEI     2022-02-05   2022-02-05  Consumer Price Index: All Items Excluding Food...        1966-01-01      2020-01-01     Annual               A  Index 2015=100  Index 2015=100  Not Seasonally Adjusted                       NSA 2021-03-16 22:37:57+00:00           0                 1  Copyright, 2016, OECD. Reprinted with permissi...</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_start</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">realtime_end</span> <span class="o">=</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">allowed_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">series_id</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">seasonal_adjustment</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">realtime_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">last_updated</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_start</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">observation_end</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">popularity</span><span class="p">,</span>
            <span class="n">enums</span><span class="o">.</span><span class="n">OrderBy</span><span class="o">.</span><span class="n">group_popularity</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">order_by</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_orders</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable order_by (</span><span class="si">{</span><span class="n">order_by</span><span class="si">}</span><span class="s1">) is not one of the values: </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">allowed_orders</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&lt;</span> <span class="n">dt_date</span><span class="p">(</span><span class="mi">1776</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) is before min date 1776-07-04.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_end</span> <span class="o">&gt;</span> <span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;) can not be after today</span><span class="se">\&#39;</span><span class="s1">s date (&quot;</span><span class="si">{</span><span class="n">dt_date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="s1">&quot;)&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">realtime_start</span> <span class="o">&gt;</span> <span class="n">realtime_end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The date set by variable realtime_start (&quot;</span><span class="si">{</span><span class="n">realtime_start</span><span class="si">}</span><span class="s1">&quot;) can not be after the date set by variable realtime_end (&quot;</span><span class="si">{</span><span class="n">realtime_end</span><span class="si">}</span><span class="s1">&quot;).&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;/fred/tags/series&quot;</span><span class="p">,</span>
                <span class="n">list_key</span><span class="o">=</span><span class="s2">&quot;seriess&quot;</span><span class="p">,</span>
                <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">tag_names</span><span class="o">=</span><span class="n">tag_names</span><span class="p">,</span>
                <span class="n">exclude_tag_names</span><span class="o">=</span><span class="n">exclude_tag_names</span><span class="p">,</span>
                <span class="n">realtime_start</span><span class="o">=</span><span class="n">realtime_start</span><span class="p">,</span>
                <span class="n">realtime_end</span><span class="o">=</span><span class="n">realtime_end</span><span class="p">,</span>
                <span class="n">order_by</span><span class="o">=</span><span class="n">order_by</span><span class="p">,</span>
                <span class="n">sort_order</span><span class="o">=</span><span class="n">sort_order</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;realtime_start&quot;</span><span class="p">,</span> <span class="s2">&quot;realtime_end&quot;</span><span class="p">,</span>
            <span class="s2">&quot;observation_start&quot;</span><span class="p">,</span> <span class="s2">&quot;observation_end&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">date_columns</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">last_updated</span> <span class="o">+</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S%z&quot;</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;frequency_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                <span class="s2">&quot;seasonal_adjustment_short&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span>
            <span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span></div>
</div>



<div class="viewcode-block" id="ALFRED">
<a class="viewcode-back" href="../../client.html#pystlouisfed.ALFRED">[docs]</a>
<span class="k">class</span> <span class="nc">ALFRED</span><span class="p">(</span><span class="n">FRED</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ALFRED stands for Archival Federal Reserve Economic Data.</span>
<span class="sd">    ALFRED archives FRED data by adding the real-time period when values were originally released and later revised. For instance on February 2, 1990, the US Bureau of Labor Statistics reported the US unemployment rate for the month of January, 1990 as 5.3 percent.</span>
<span class="sd">    Over 6 years later on March 8, 1996, the US unemployment rate for the same month January, 1990 was revised to 5.4 percent.</span>

<span class="sd">    https://alfred.stlouisfed.org/</span>

<span class="sd">    https://fred.stlouisfed.org/docs/api/fred/alfred.html</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Tomas Koutek.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>